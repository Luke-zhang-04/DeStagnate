/**
 * Destagnate v2.0.0 | https://luke-zhang-04.github.io/DeStagnate/
 * @copyright (C) 2020 Luke Zhang https://luke-zhang-04.github.io
 * @license MIT
 */
var DeStagnate=function(t){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?u(t):e}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=i(t);if(e){var o=i(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(t,e)||s(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){if(t){if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=s(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}var h="https://luke-zhang-04.github.io/DeStagnate/error-codes",v=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n)for(var o=0,i=Object.entries(n);o<i.length;o++){var a=l(i[o],2),u=a[0],c=a[1];"string"==typeof c||"number"==typeof c?"innerHTML"===u?t.innerHTML=c.toString():r?t.setAttributeNS(null,u,c.toString()):t.setAttribute(u,c.toString()):"on"===u.slice(0,2)?"function"==typeof c&&t.addEventListener(u.slice(2).toLowerCase(),c):"ref"===u&&"object"===e(c)&&"current"in c?c.current=t:void 0!==c&&console.warn("".concat(e(c)," is not a valid DeStagnate child"))}},y=function t(e,n){if(null!=n)if(n instanceof Array)n.forEach((function(n){return t(e,n)}));else if("string"==typeof n||"number"==typeof n)e.appendChild(document.createTextNode(n.toString()));else if(n instanceof C){if(!n.didMount&&e instanceof window.HTMLElement)return void n.mount(e);if(!(e instanceof window.HTMLElement))throw new Error("ERROR: code 3. See ".concat(h));n.parent!==e&&(n.parent=e),n.forceUpdate()}else e.appendChild(n)};function m(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if("string"==typeof t){var i=document.createElement(t);return v(i,e),y(i,r),i}return"function"==typeof t?t(e,r):Error("tagNameOrComponent is of invalid type.")}var g=function(t,e,n){var r=document.createElementNS(t,e);v(r,n,!0);for(var o=arguments.length,i=new Array(o>3?o-3:0),a=3;a<o;a++)i[a-3]=arguments[a];return y(r,i),r},b=function(){return{current:null}},_=function t(){n(this,t),this.createElement=m,this.createElementNS=g,this.createRef=b,this.componentDidCatch=function(t){return console.error(t)},this.shouldComponentUpdate=function(){return!0},this.render=function(){return null}};_.createElement=m,_.createElementNS=g,_.createRef=b;var S=["onFocus","onBlur","onFocusIn","onFocusOut","onAnimationStart","onAnimationCancel","onAnimationEnd","onAnimationIteration","onTransitionStart","onTransitionCancel","onTransitionEnd","onTransitionRun","onAuxClick","onClick","onDblClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOver","onMouseOut","onMouseUp"],E=function(t){o(r,t);var e=f(r);function r(){var t;return n(this,r),(t=e.apply(this,arguments)).bindEventListeners=function(e){t._eventListener(e.addEventListener)},t.unbindEventListeners=function(e){t._eventListener(e.removeEventListener)},t._eventListener=function(e){var n,r=p(S);try{for(r.s();!(n=r.n()).done;){var o=n.value,i=o.slice(2).toLowerCase(),a=t[o];void 0!==a&&a instanceof Function&&e(i,a)}}catch(t){r.e(t)}finally{r.f()}},t}return r}(_),w=function t(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;if(0===o)return n===r;if(e(n)!==e(r))return!1;if(n instanceof Array&&r instanceof Array){if(n.length!==r.length)return!1;if(n.length>i||r.length>i)return n===r;for(var a=0;a<n.length;a++)if(!t(n[a],r[a],o-1,i))return!1;return!0}if(n instanceof Object&&r instanceof Object){if(!t(Object.keys(n),Object.keys(r),o-1,i))return!1;for(var u=0,c=Object.keys(n);u<c.length;u++){var f=c[u];if(!t(n[f],r[f],o-1,i))return!1}return!0}return n===r},C=function(t){o(l,t);var e,i,a,c=f(l);function l(t,e){var r;if(n(this,l),(r=c.call(this)).props=e,r._state={},r._didSetInitialState=!1,r._didMount=!1,r.getSnapshotBeforeUpdate=function(t,e){return[t,e]},r.forceUpdate=function(){var t;try{if(null===(t=r.componentDidUpdate)||void 0===t||t.call(u(r)),void 0===r._parent)throw new Error("ERROR: code 2. See ".concat(h,"."));r.getSnapshotBeforeUpdate(Object.assign({},r.props),Object.assign({},r.state)),r._update(r._execRender())}catch(t){return r._handleError(t)}},r.stateDidChange=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15;if(void 0===t)return!w(r._state,r._prevState,n,o);var i,a={},u={},c=p(t);try{for(c.s();!(i=c.n()).done;){var f=i.value;a[f]=r._state[f],u[f]=null===(e=r._prevState)||void 0===e?void 0:e[f]}}catch(t){c.e(t)}finally{c.f()}return!w(a,u,n,o)},r.setState=function(t){var e;try{if(null===(e=r.componentWillUpdate)||void 0===e||e.call(u(r)),void 0===r._parent)throw new Error("ERROR: code 2. See ".concat(h,"."));r._prevState=Object.assign({},r._state),r.getSnapshotBeforeUpdate(Object.assign({},r.props),Object.assign({},r.state)),Object.assign(r._state,t);var n=r.shouldComponentUpdate()?r._execRender():void 0;r._update(n)}catch(t){return r._handleError(t)}},r.mountComponent=function(t){var e,n;try{if(void 0!==t&&(r.parent=t),void 0===r._parent)throw new Error("ERROR: code 2. See ".concat(h,"."));var o=r.render();if(r._didSetInitialState=!0,null===(e=r.componentWillMount)||void 0===e||e.call(u(r)),null===o)throw new Error("ERROR: code 3. See ".concat(h,"."));if(r.bindEventListeners(r._parent),r._didMount=!0,null===(n=r.componentDidMount)||void 0===n||n.call(u(r)),o instanceof Array){var i=document.createDocumentFragment();return o.forEach((function(t){return i.appendChild(t)})),r._parent.appendChild(i)}return r._parent.appendChild(o)}catch(t){return r._handleError(t)}},r.mount=r.mountComponent,r.unmountComponent=function(){var t;try{if(void 0===r._parent)return;null===(t=r.componentWillUnmount)||void 0===t||t.call(u(r)),r.unbindEventListeners(r._parent),r._removeChildren(),r._didMount=!1}catch(t){r._handleError(t)}},r.unmount=r.unmountComponent,r._removeChildren=function(){if(void 0===r._parent)throw new Error("ERROR: code 2. See ".concat(h,"."));for(;r._parent.firstChild;)r._parent.lastChild&&r._parent.removeChild(r._parent.lastChild)},r._execRender=function(){return r._removeChildren(),r.render()},r._update=function(t){var e,n,o;if(t instanceof Array){var i,a=p(t);try{for(a.s();!(i=a.n()).done;){var c=i.value;null===(e=r._parent)||void 0===e||e.appendChild(c)}}catch(t){a.e(t)}finally{a.f()}}else t&&(null===(n=r._parent)||void 0===n||n.appendChild(t));t&&(null===(o=r.componentDidUpdate)||void 0===o||o.call(u(r)))},r._handleError=function(t){if(t instanceof Error)return r.componentDidCatch(t),t;var e=new Error(String(t));return r.componentDidCatch(e),e},null===t)throw new Error("Parent is null, expected HTMLElement | undefined.");return r._parent=t,r}return e=l,(i=[{key:"getState",get:function(){return this.state}},{key:"state",get:function(){return this._state},set:function(t){this._didSetInitialState?(this.componentDidCatch(new Error("ERROR: code 1. See ".concat(h,"."))),this.setState(t)):(this._state=t,this._didSetInitialState=!0)}},{key:"getProps",get:function(){return this.props}},{key:"parent",get:function(){return this._parent},set:function(t){this._parent=t}},{key:"didMount",get:function(){return this._didMount}},{key:"prevState",get:function(){return this._prevState}}])&&r(e.prototype,i),a&&r(e,a),l}(E),O=function(t){for(var e=document.createDocumentFragment(),n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return y(e,r),e};!function(t){t.Component=C,t.createRef=b,t.createElement=m,t.createElementNS=g,t.fragment=O}(t.DeStagnate||(t.DeStagnate={}));var R=t.DeStagnate;return t.Component=C,t.createElement=m,t.createElementNS=g,t.createRef=b,t.default=R,t.fragment=O,Object.defineProperty(t,"__esModule",{value:!0}),t}({});
