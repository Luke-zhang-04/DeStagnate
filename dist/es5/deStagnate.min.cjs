/**
 * Destagnate v2.0.0 | https://luke-zhang-04.github.io/DeStagnate/
 * @copyright (C) 2020 Luke Zhang https://luke-zhang-04.github.io
 * @license MIT
 */
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?a(t):e}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=o(t);if(e){var i=o(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(t,e)||l(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){if(t){if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=l(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}Object.defineProperty(exports,"__esModule",{value:!0});var p="https://luke-zhang-04.github.io/DeStagnate/error-codes",h=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n)for(var o=0,i=Object.entries(n);o<i.length;o++){var a=f(i[o],2),u=a[0],c=a[1];"string"==typeof c||"number"==typeof c?"innerHTML"===u?e.innerHTML=c.toString():r?e.setAttributeNS(null,u,c.toString()):e.setAttribute(u,c.toString()):"on"===u.slice(0,2)?"function"==typeof c&&e.addEventListener(u.slice(2).toLowerCase(),c):"ref"===u&&"object"===t(c)&&"current"in c?c.current=e:void 0!==c&&console.warn("".concat(t(c)," is not a valid DeStagnate child"))}},v=function t(e,n){if(null!=n)if(n instanceof Array)n.forEach((function(n){return t(e,n)}));else if("string"==typeof n||"number"==typeof n)e.appendChild(document.createTextNode(n.toString()));else if(n instanceof w){if(!n.didMount&&e instanceof window.HTMLElement)return void n.mount(e);if(!(e instanceof window.HTMLElement))throw new Error("ERROR: code 3. See ".concat(p));n.parent!==e&&(n.parent=e),n.forceUpdate()}else e.appendChild(n)};function y(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if("string"==typeof t){var i=document.createElement(t);return h(i,e),v(i,r),i}return"function"==typeof t?t(e,r):Error("tagNameOrComponent is of invalid type.")}var m=function(t,e,n){var r=document.createElementNS(t,e);h(r,n,!0);for(var o=arguments.length,i=new Array(o>3?o-3:0),a=3;a<o;a++)i[a-3]=arguments[a];return v(r,i),r},b=function(){return{current:null}},g=function t(){e(this,t),this.createElement=y,this.createElementNS=m,this.createRef=b,this.componentDidCatch=function(t){return console.error(t)},this.shouldComponentUpdate=function(){return!0},this.render=function(){return null}};g.createElement=y,g.createElementNS=m,g.createRef=b;var _=["onFocus","onBlur","onFocusIn","onFocusOut","onAnimationStart","onAnimationCancel","onAnimationEnd","onAnimationIteration","onTransitionStart","onTransitionCancel","onTransitionEnd","onTransitionRun","onAuxClick","onClick","onDblClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOver","onMouseOut","onMouseUp"],S=function(t){r(o,g);var n=c(o);function o(){var t;return e(this,o),(t=n.apply(this,arguments)).bindEventListeners=function(e){t._eventListener(e.addEventListener)},t.unbindEventListeners=function(e){t._eventListener(e.removeEventListener)},t._eventListener=function(e){var n,r=d(_);try{for(r.s();!(n=r.n()).done;){var o=n.value,i=o.slice(2).toLowerCase(),a=t[o];void 0!==a&&a instanceof Function&&e(i,a)}}catch(t){r.e(t)}finally{r.f()}},t}return o}(),E=function e(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;if(0===o)return n===r;if(t(n)!==t(r))return!1;if(n instanceof Array&&r instanceof Array){if(n.length!==r.length)return!1;if(n.length>i||r.length>i)return n===r;for(var a=0;a<n.length;a++)if(!e(n[a],r[a],o-1,i))return!1;return!0}if(n instanceof Object&&r instanceof Object){if(!e(Object.keys(n),Object.keys(r),o-1,i))return!1;for(var u=0,c=Object.keys(n);u<c.length;u++){var f=c[u];if(!e(n[f],r[f],o-1,i))return!1}return!0}return n===r},w=function(t){r(l,S);var o,i,u,f=c(l);function l(t,n){var r;if(e(this,l),(r=f.call(this)).props=n,r._state={},r._didSetInitialState=!1,r._didMount=!1,r.getSnapshotBeforeUpdate=function(t,e){return[t,e]},r.forceUpdate=function(){var t;try{if(null===(t=r.componentDidUpdate)||void 0===t||t.call(a(r)),void 0===r._parent)throw new Error("ERROR: code 2. See ".concat(p,"."));r.getSnapshotBeforeUpdate(Object.assign({},r.props),Object.assign({},r.state)),r._update(r._execRender())}catch(t){return r._handleError(t)}},r.stateDidChange=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15;if(void 0===t)return!E(r._state,r._prevState,n,o);var i,a={},u={},c=d(t);try{for(c.s();!(i=c.n()).done;){var f=i.value;a[f]=r._state[f],u[f]=null===(e=r._prevState)||void 0===e?void 0:e[f]}}catch(t){c.e(t)}finally{c.f()}return!E(a,u,n,o)},r.setState=function(t){var e;try{if(null===(e=r.componentWillUpdate)||void 0===e||e.call(a(r)),void 0===r._parent)throw new Error("ERROR: code 2. See ".concat(p,"."));r._prevState=Object.assign({},r._state),r.getSnapshotBeforeUpdate(Object.assign({},r.props),Object.assign({},r.state)),Object.assign(r._state,t);var n=r.shouldComponentUpdate()?r._execRender():void 0;r._update(n)}catch(t){return r._handleError(t)}},r.mountComponent=function(t){var e,n;try{if(void 0!==t&&(r.parent=t),void 0===r._parent)throw new Error("ERROR: code 2. See ".concat(p,"."));var o=r.render();if(r._didSetInitialState=!0,null===(e=r.componentWillMount)||void 0===e||e.call(a(r)),null===o)throw new Error("ERROR: code 3. See ".concat(p,"."));if(r.bindEventListeners(r._parent),r._didMount=!0,null===(n=r.componentDidMount)||void 0===n||n.call(a(r)),o instanceof Array){var i=document.createDocumentFragment();return o.forEach((function(t){return i.appendChild(t)})),r._parent.appendChild(i)}return r._parent.appendChild(o)}catch(t){return r._handleError(t)}},r.mount=r.mountComponent,r.unmountComponent=function(){var t;try{if(void 0===r._parent)return;null===(t=r.componentWillUnmount)||void 0===t||t.call(a(r)),r.unbindEventListeners(r._parent),r._removeChildren(),r._didMount=!1}catch(t){r._handleError(t)}},r.unmount=r.unmountComponent,r._removeChildren=function(){if(void 0===r._parent)throw new Error("ERROR: code 2. See ".concat(p,"."));for(;r._parent.firstChild;)r._parent.lastChild&&r._parent.removeChild(r._parent.lastChild)},r._execRender=function(){return r._removeChildren(),r.render()},r._update=function(t){var e,n,o;if(t instanceof Array){var i,u=d(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;null===(e=r._parent)||void 0===e||e.appendChild(c)}}catch(t){u.e(t)}finally{u.f()}}else t&&(null===(n=r._parent)||void 0===n||n.appendChild(t));t&&(null===(o=r.componentDidUpdate)||void 0===o||o.call(a(r)))},r._handleError=function(t){if(t instanceof Error)return r.componentDidCatch(t),t;var e=new Error(String(t));return r.componentDidCatch(e),e},null===t)throw new Error("Parent is null, expected HTMLElement | undefined.");return r._parent=t,r}return o=l,(i=[{key:"getState",get:function(){return this.state}},{key:"state",get:function(){return this._state},set:function(t){this._didSetInitialState?(this.componentDidCatch(new Error("ERROR: code 1. See ".concat(p,"."))),this.setState(t)):(this._state=t,this._didSetInitialState=!0)}},{key:"getProps",get:function(){return this.props}},{key:"parent",get:function(){return this._parent},set:function(t){this._parent=t}},{key:"didMount",get:function(){return this._didMount}},{key:"prevState",get:function(){return this._prevState}}])&&n(o.prototype,i),u&&n(o,u),l}(),C=function(t){for(var e=document.createDocumentFragment(),n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return v(e,r),e};!function(t){t.Component=w,t.createRef=b,t.createElement=y,t.createElementNS=m,t.fragment=C}(exports.DeStagnate||(exports.DeStagnate={}));var O=exports.DeStagnate;exports.Component=w,exports.createElement=y,exports.createElementNS=m,exports.createRef=b,exports.default=O,exports.fragment=C;
