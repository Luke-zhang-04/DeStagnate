/**
 * Destagnate v2.1.0 | https://luke-zhang-04.github.io/DeStagnate/
 * @copyright (C) 2020 - 2021 Luke Zhang https://luke-zhang-04.github.io
 * @license MIT
 */
"use strict";function t(n){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}function n(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function e(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var e=[],r=!0,i=!1,o=void 0;try{for(var u,s=t[Symbol.iterator]();!(r=(u=s.next()).done)&&(e.push(u.value),!n||e.length!==n);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return e}(t,n)||r(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,n){if(t){if("string"==typeof t)return i(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?i(t,n):void 0}}function i(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function o(t,n){var e;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=r(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,s=!0,a=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return s=t.done,t},e:function(t){a=!0,u=t},f:function(){try{s||null==e.return||e.return()}finally{if(a)throw u}}}}Object.defineProperty(exports,"t",{value:!0});var u=["onFocus","onBlur","onFocusIn","onFocusOut","onAnimationStart","onAnimationCancel","onAnimationEnd","onAnimationIteration","onTransitionStart","onTransitionCancel","onTransitionEnd","onTransitionRun","onAuxClick","onClick","onDblClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOver","onMouseOut","onMouseUp","onWheel"],s=["onLoad","onOnline","onOffline","onResize","onScroll","onKeyDown","onKeyPress","onKeyUp"],a="https://luke-zhang-04.github.io/DeStagnate/error-codes",f=function(n,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(r)for(var o=0,u=Object.entries(r);o<u.length;o++){var s=e(u[o],2),a=s[0],f=s[1];"string"==typeof f||"number"==typeof f?"innerHTML"===a?n.innerHTML=f.toString():i?n.setAttributeNS(null,a,f.toString()):n.setAttribute(a,f.toString()):"on"===a.slice(0,2)?"function"==typeof f&&n.addEventListener(a.slice(2).toLowerCase(),f):"ref"===a&&"object"===t(f)&&"current"in f?f.current=n:void 0!==f&&console.warn("".concat(t(f)," is not a valid DeStagnate child"))}},c=function t(n,e){if(null!=e)if(e instanceof Array)e.forEach((function(e){return t(n,e)}));else if("string"==typeof e||"number"==typeof e)n.appendChild(document.createTextNode(e.toString()));else if(e instanceof p){if(!e.didMount&&n instanceof window.HTMLElement)return void e.mount(n);if(!(n instanceof window.HTMLElement))throw new Error("ERROR: code 3. See ".concat(a));e.parent!==n&&(e.parent=n),e.forceUpdate()}else n.appendChild(e)};function h(t,n){for(var e=arguments.length,r=new Array(e>2?e-2:0),i=2;i<e;i++)r[i-2]=arguments[i];if("string"==typeof t){var o=document.createElement(t);return f(o,n),c(o,r),o}return"function"==typeof t?t(n,r):Error("tagNameOrComponent is of invalid type.")}var l=function(t,n,e){var r=document.createElementNS(t,n);f(r,e,!0);for(var i=arguments.length,o=new Array(i>3?i-3:0),u=3;u<i;u++)o[u-3]=arguments[u];return c(r,o),r},v=function(){return{current:null}},y=function n(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;if(0===i)return e===r;if(t(e)!==t(r))return!1;if(e instanceof Array&&r instanceof Array){if(e.length!==r.length)return!1;if(e.length>o||r.length>o)return e===r;for(var u=0;u<e.length;u++)if(!n(e[u],r[u],i-1,o))return!1;return!0}if(e instanceof Object&&r instanceof Object){if(!n(Object.keys(e),Object.keys(r),i-1,o))return!1;for(var s=0,a=Object.keys(e);s<a.length;s++){var f=a[s];if(!n(e[f],r[f],i-1,o))return!1}return!0}return e===r},d="Refusing to update unmounted component",p=function(){function t(n,e){if(function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.props=e,this.createElement=h,this.createElementNS=l,this.createRef=v,this.i={},this.o=!1,this.u=!1,this.mount=this.mountComponent,this.unmount=this.unmountComponent,null===n)throw new Error("Parent is null, expected HTMLElement | undefined.");this.h=n}var e,r,i;return e=t,(r=[{key:"getState",get:function(){return this.state}},{key:"state",get:function(){return this.i},set:function(t){this.o?(this.componentDidCatch(new Error("ERROR: code 1. See ".concat(a,"."))),this.setState(t)):(this.i=t,this.o=!0)}},{key:"getProps",get:function(){return this.props}},{key:"parent",get:function(){return this.h},set:function(t){this.h=t}},{key:"didMount",get:function(){return this.u}},{key:"prevState",get:function(){return this.l}},{key:"forceUpdate",value:function(){var t,n;try{if(!this.u)throw new Error(d);if(null===(t=this.componentDidUpdate)||void 0===t||t.call(this),void 0===this.h)throw new Error("ERROR: code 2. See ".concat(a,"."));null===(n=this.getSnapshotBeforeUpdate)||void 0===n||n.call(this,Object.assign({},this.props),Object.assign({},this.state)),this.v(this.p())}catch(t){return this.m(t)}}},{key:"stateDidChange",value:function(t){var n,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15;if(void 0===t)return!y(this.i,this.l,e,r);var i,u={},s={},a=o(t);try{for(a.s();!(i=a.n()).done;){var f=i.value;u[f]=this.i[f],s[f]=null===(n=this.l)||void 0===n?void 0:n[f]}}catch(t){a.e(t)}finally{a.f()}return!y(u,s,e,r)}},{key:"setState",value:function(t){var n,e,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{if(!this.u)throw new Error(d);if(null===(n=this.componentWillUpdate)||void 0===n||n.call(this),void 0===this.h)throw new Error("ERROR: code 2. See ".concat(a,"."));this.l=Object.assign({},this.i),null===(e=this.getSnapshotBeforeUpdate)||void 0===e||e.call(this,Object.assign({},this.props),Object.assign({},this.state)),Object.assign(this.i,t);var i=r&&this.shouldComponentUpdate()?this.p():void 0;this.v(i)}catch(t){return this.m(t)}}},{key:"mountComponent",value:function(t){var n,e;try{if(void 0!==t&&(this.parent=t),void 0===this.h)throw new Error("ERROR: code 2. See ".concat(a,"."));var r=this.render();if(this.o=!0,null===(n=this.componentWillMount)||void 0===n||n.call(this),null===r)throw new Error("ERROR: code 3. See ".concat(a,"."));if(this.O(this.h),this.u=!0,null===(e=this.componentDidMount)||void 0===e||e.call(this),r instanceof Array){var i=document.createDocumentFragment();return r.forEach((function(t){return i.appendChild(t)})),this.h.appendChild(i)}return this.h.appendChild(r)}catch(t){return this.m(t)}}},{key:"unmountComponent",value:function(){var t;try{if(void 0===this.h)return;null===(t=this.componentWillUnmount)||void 0===t||t.call(this),this.S(this.h),this.R(),this.u=!1}catch(t){this.m(t)}}},{key:"componentDidCatch",value:function(t){console.error(t)}},{key:"shouldComponentUpdate",value:function(){return!0}},{key:"_removeChildren",value:function(){if(void 0===this.h)throw new Error("ERROR: code 2. See ".concat(a,"."));for(;this.h.firstChild;)this.h.lastChild&&this.h.removeChild(this.h.lastChild)}},{key:"_execRender",value:function(){return this.R(),this.render()}},{key:"_update",value:function(t){var n,e,r;if(t instanceof Array){var i,u=o(t);try{for(u.s();!(i=u.n()).done;){var s=i.value;null===(n=this.h)||void 0===n||n.appendChild(s)}}catch(t){u.e(t)}finally{u.f()}}else t&&(null===(e=this.h)||void 0===e||e.appendChild(t));t&&(null===(r=this.componentDidUpdate)||void 0===r||r.call(this))}},{key:"_handleError",value:function(t){if(t instanceof Error)return this.componentDidCatch(t),t;var n=new Error(String(t));return this.componentDidCatch(n),n}},{key:"_bindEventListeners",value:function(t){this.k(t.addEventListener),this.k(window.addEventListener,s)}},{key:"_unbindEventListeners",value:function(t){this.k(t.removeEventListener),this.k(window.removeEventListener,s)}},{key:"_eventListener",value:function(t){var n,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u,r=o(e);try{for(r.s();!(n=r.n()).done;){var i=n.value,s=i.slice(2).toLowerCase(),a=this[i];void 0!==a&&a instanceof Function&&t(s,a)}}catch(t){r.e(t)}finally{r.f()}}}])&&n(e.prototype,r),i&&n(e,i),t}();p.createElement=h,p.createElementNS=l,p.createRef=v;var b=function(t){for(var n=document.createDocumentFragment(),e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return c(n,r),n};!function(t){t.Component=p,t.createRef=v,t.createElement=h,t.createElementNS=l,t.Fragment=b}(exports.DeStagnate||(exports.DeStagnate={}));var m=exports.DeStagnate;exports.Component=p,exports.Fragment=b,exports.createElement=h,exports.createElementNS=l,exports.createRef=v,exports.default=m;
//# sourceMappingURL=deStagnate.min.cjs.map
