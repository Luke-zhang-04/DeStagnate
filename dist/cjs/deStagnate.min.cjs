/**
 * Destagnate v2.1.0 | https://luke-zhang-04.github.io/DeStagnate/
 * @copyright (C) 2020 - 2021 Luke Zhang https://luke-zhang-04.github.io
 * @license MIT
 */
"use strict";Object.defineProperty(exports,"t",{value:!0});const t=(e,n,o=3,i=10)=>{if(0===o)return e===n;if(typeof e!=typeof n)return!1;if(e instanceof Array&&n instanceof Array){if(e.length!==n.length)return!1;if(e.length>i||n.length>i)return e===n;for(let r=0;r<e.length;r++)if(!t(e[r],n[r],o-1,i))return!1;return!0}if(e instanceof Object&&n instanceof Object){if(!t(Object.keys(e),Object.keys(n),o-1,i))return!1;for(const r of Object.keys(e))if(!t(e[r],n[r],o-1,i))return!1;return!0}return e===n},e=["onFocus","onBlur","onFocusIn","onFocusOut","onAnimationStart","onAnimationCancel","onAnimationEnd","onAnimationIteration","onTransitionStart","onTransitionCancel","onTransitionEnd","onTransitionRun","onAuxClick","onClick","onDblClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOver","onMouseOut","onMouseUp","onWheel"],n=["onLoad","onOnline","onOffline","onResize","onScroll","onKeyDown","onKeyPress","onKeyUp"],o="https://luke-zhang-04.github.io/DeStagnate/error-codes",i=(t,e,n=!1)=>{if(e)for(const[o,i]of Object.entries(e))"string"==typeof i||"number"==typeof i?"innerHTML"===o?t.innerHTML=i.toString():n?t.setAttributeNS(null,o,i.toString()):t.setAttribute(o,i.toString()):"on"===o.slice(0,2)?"function"==typeof i&&t.addEventListener(o.slice(2).toLowerCase(),i):"ref"===o&&"object"==typeof i&&"current"in i?i.current=t:void 0!==i&&console.warn(typeof i+" is not a valid DeStagnate child")},r=(t,e)=>{if(null!=e)if(e instanceof Array)e.forEach((e=>r(t,e)));else if("string"==typeof e||"number"==typeof e)t.appendChild(document.createTextNode(e.toString()));else if(e instanceof Node)t.appendChild(e);else{if(!e.didMount&&t instanceof window.HTMLElement)return void e.mount(t);if(!(t instanceof window.HTMLElement))throw new Error(`ERROR: code 3. See ${o}`);e.parent!==t&&(e.parent=t),e.forceUpdate()}};function s(t,e,...n){if("string"==typeof t){const o=document.createElement(t);return i(o,e),r(o,n),o}return"function"==typeof t?t(e,n):Error("tagNameOrComponent is of invalid type.")}const h=(t,e,n,...o)=>{const s=document.createElementNS(t,e);return i(s,n,!0),r(s,o),s},u=()=>({current:null}),c="Refusing to update unmounted component";class f{constructor(t,e){if(this.props=e,this.createElement=s,this.createElementNS=h,this.createRef=u,this.o={},this.i=!1,this.h=!1,this.mount=this.mountComponent,this.unmount=this.unmountComponent,null===t)throw new Error("Parent is null, expected HTMLElement | undefined.");this.u=t}get getState(){return this.state}get state(){return this.o}set state(t){this.i?(this.componentDidCatch(new Error(`ERROR: code 1. See ${o}.`)),this.setState(t)):(this.o=t,this.i=!0)}get getProps(){return this.props}set parent(t){this.u=t}get parent(){return this.u}get didMount(){return this.h}get prevState(){return this.l}forceUpdate(){var t,e;try{if(!this.h)throw new Error(c);if(null===(t=this.componentDidUpdate)||void 0===t||t.call(this),void 0===this.u)throw new Error(`ERROR: code 2. See ${o}.`);null===(e=this.getSnapshotBeforeUpdate)||void 0===e||e.call(this,Object.assign({},this.props),Object.assign({},this.state)),this.v(this.p())}catch(t){return this.m(t)}}stateDidChange(e,n=3,o=15){var i;if(void 0===e)return!t(this.o,this.l,n,o);const r={},s={};for(const t of e)r[t]=this.o[t],s[t]=null===(i=this.l)||void 0===i?void 0:i[t];return!t(r,s,n,o)}setState(t,e=!0){var n,i;try{if(!this.h)throw new Error(c);if(null===(n=this.componentWillUpdate)||void 0===n||n.call(this),void 0===this.u)throw new Error(`ERROR: code 2. See ${o}.`);this.l=Object.assign({},this.o),null===(i=this.getSnapshotBeforeUpdate)||void 0===i||i.call(this,Object.assign({},this.props),Object.assign({},this.state)),Object.assign(this.o,t);const r=e&&this.shouldComponentUpdate()?this.p():void 0;this.v(r)}catch(t){return this.m(t)}}mountComponent(t){var e,n;try{if(void 0!==t&&(this.parent=t),void 0===this.u)throw new Error(`ERROR: code 2. See ${o}.`);const i=this.render();if(this.i=!0,null===(e=this.componentWillMount)||void 0===e||e.call(this),null===i)throw new Error(`ERROR: code 3. See ${o}.`);if(this.O(this.u),this.h=!0,null===(n=this.componentDidMount)||void 0===n||n.call(this),i instanceof Array){const t=document.createDocumentFragment();return i.forEach((e=>t.appendChild(e))),this.u.appendChild(t)}return this.u.appendChild(i)}catch(t){return this.m(t)}}unmountComponent(){var t;try{if(void 0===this.u)return;null===(t=this.componentWillUnmount)||void 0===t||t.call(this),this.R(this.u),this.g(),this.h=!1}catch(t){this.m(t)}}componentDidCatch(t){console.error(t)}shouldComponentUpdate(){return!0}g(){if(void 0===this.u)throw new Error(`ERROR: code 2. See ${o}.`);for(;this.u.firstChild;)this.u.lastChild&&this.u.removeChild(this.u.lastChild)}p(){return this.g(),this.render()}v(t){var e,n,o;if(t instanceof Array)for(const n of t)null===(e=this.u)||void 0===e||e.appendChild(n);else t&&(null===(n=this.u)||void 0===n||n.appendChild(t));t&&(null===(o=this.componentDidUpdate)||void 0===o||o.call(this))}m(t){if(t instanceof Error)return this.componentDidCatch(t),t;const e=new Error(String(t));return this.componentDidCatch(e),e}O(t){this.S(t.addEventListener),this.S(window.addEventListener,n)}R(t){this.S(t.removeEventListener),this.S(window.removeEventListener,n)}S(t,n=e){for(const e of n){const n=e.slice(2).toLowerCase(),o=this[e];void 0!==o&&o instanceof Function&&t(n,o)}}}f.createElement=s,f.createElementNS=h,f.createRef=u;const a=(t,...e)=>{const n=document.createDocumentFragment();return r(n,e),n};var l=Object.freeze({__proto__:null,Component:f,createRef:u,createElement:s,createElementNS:h,Fragment:a});exports.Component=f,exports.Fragment=a,exports.createElement=s,exports.createElementNS=h,exports.createRef=u,exports.default=l;
//# sourceMappingURL=deStagnate.min.cjs.map
