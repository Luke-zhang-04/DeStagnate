/**
 * Destagnate v2.0.0 | https://luke-zhang-04.github.io/DeStagnate/
 * @copyright (C) 2020 Luke Zhang https://luke-zhang-04.github.io
 * @license MIT
 */
var DeStagnate=function(t){"use strict";const e="https://luke-zhang-04.github.io/DeStagnate/error-codes",n=(t,e,n=!1)=>{if(e)for(const[r,i]of Object.entries(e))"string"==typeof i||"number"==typeof i?"innerHTML"===r?t.innerHTML=i.toString():n?t.setAttributeNS(null,r,i.toString()):t.setAttribute(r,i.toString()):"on"===r.slice(0,2)?"function"==typeof i&&t.addEventListener(r.slice(2).toLowerCase(),i):"ref"===r&&"object"==typeof i&&"current"in i?i.current=t:void 0!==i&&console.warn(typeof i+" is not a valid DeStagnate child")},r=(t,n)=>{if(null!=n)if(n instanceof Array)n.forEach((e=>r(t,e)));else if("string"==typeof n||"number"==typeof n)t.appendChild(document.createTextNode(n.toString()));else if(n instanceof u){if(!n.didMount&&t instanceof window.HTMLElement)return void n.mount(t);if(!(t instanceof window.HTMLElement))throw new Error(`ERROR: code 3. See ${e}`);n.parent!==t&&(n.parent=t),n.forceUpdate()}else t.appendChild(n)};function i(t,e,...i){if("string"==typeof t){const o=document.createElement(t);return n(o,e),r(o,i),o}return"function"==typeof t?t(e,i):Error("tagNameOrComponent is of invalid type.")}const o=(t,e,i,...o)=>{const s=document.createElementNS(t,e);return n(s,i,!0),r(s,o),s},s=()=>({current:null});class a{constructor(){this.createElement=i,this.createElementNS=o,this.createRef=s,this.componentDidCatch=t=>console.error(t),this.shouldComponentUpdate=()=>!0,this.render=()=>null}}a.createElement=i,a.createElementNS=o,a.createRef=s;const h=["onFocus","onBlur","onFocusIn","onFocusOut","onAnimationStart","onAnimationCancel","onAnimationEnd","onAnimationIteration","onTransitionStart","onTransitionCancel","onTransitionEnd","onTransitionRun","onAuxClick","onClick","onDblClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOver","onMouseOut","onMouseUp"];class c extends a{constructor(){super(...arguments),this.bindEventListeners=t=>{this._eventListener(t.addEventListener)},this.unbindEventListeners=t=>{this._eventListener(t.removeEventListener)},this._eventListener=t=>{for(const e of h){const n=e.slice(2).toLowerCase(),r=this[e];void 0!==r&&r instanceof Function&&t(n,r)}}}}const d=(t,e,n=3,r=10)=>{if(0===n)return t===e;if(typeof t!=typeof e)return!1;if(t instanceof Array&&e instanceof Array){if(t.length!==e.length)return!1;if(t.length>r||e.length>r)return t===e;for(let i=0;i<t.length;i++)if(!d(t[i],e[i],n-1,r))return!1;return!0}if(t instanceof Object&&e instanceof Object){if(!d(Object.keys(t),Object.keys(e),n-1,r))return!1;for(const i of Object.keys(t))if(!d(t[i],e[i],n-1,r))return!1;return!0}return t===e};var l={isEqual:d};class u extends c{constructor(t,n){if(super(),this.props=n,this._state={},this._didSetInitialState=!1,this._didMount=!1,this.forceUpdate=()=>{var t;try{if(null===(t=this.componentDidUpdate)||void 0===t||t.call(this),void 0===this._parent)throw new Error(`ERROR: code 2. See ${e}.`);this.getSnapshotBeforeUpdate(Object.assign({},this.props),Object.assign({},this.state)),this._update(this._execRender())}catch(t){return this._handleError(t)}},this.stateDidChange=(t,e=3,n=15)=>{var r;if(void 0===t)return!l.isEqual(this._state,this._prevState,e,n);const i={},o={};for(const e of t)i[e]=this._state[e],o[e]=null===(r=this._prevState)||void 0===r?void 0:r[e];return!l.isEqual(i,o,e,n)},this.setState=t=>{var n;try{if(null===(n=this.componentWillUpdate)||void 0===n||n.call(this),void 0===this._parent)throw new Error(`ERROR: code 2. See ${e}.`);this._prevState=Object.assign({},this._state),this.getSnapshotBeforeUpdate(Object.assign({},this.props),Object.assign({},this.state)),Object.assign(this._state,t);const r=this.shouldComponentUpdate()?this._execRender():void 0;this._update(r)}catch(t){return this._handleError(t)}},this.mountComponent=t=>{var n,r;try{if(void 0!==t&&(this.parent=t),void 0===this._parent)throw new Error(`ERROR: code 2. See ${e}.`);const i=this.render();if(this._didSetInitialState=!0,null===(n=this.componentWillMount)||void 0===n||n.call(this),null===i)throw new Error(`ERROR: code 3. See ${e}.`);if(this.bindEventListeners(this._parent),this._didMount=!0,null===(r=this.componentDidMount)||void 0===r||r.call(this),i instanceof Array){const t=document.createDocumentFragment();return i.forEach((e=>t.appendChild(e))),this._parent.appendChild(t)}return this._parent.appendChild(i)}catch(t){return this._handleError(t)}},this.mount=this.mountComponent,this.unmountComponent=()=>{var t;try{if(void 0===this._parent)return;null===(t=this.componentWillUnmount)||void 0===t||t.call(this),this.unbindEventListeners(this._parent),this._removeChildren(),this._didMount=!1}catch(t){this._handleError(t)}},this.unmount=this.unmountComponent,this._removeChildren=()=>{if(void 0===this._parent)throw new Error(`ERROR: code 2. See ${e}.`);for(;this._parent.firstChild;)this._parent.lastChild&&this._parent.removeChild(this._parent.lastChild)},this._execRender=()=>(this._removeChildren(),this.render()),this._update=t=>{var e,n,r;if(t instanceof Array)for(const n of t)null===(e=this._parent)||void 0===e||e.appendChild(n);else t&&(null===(n=this._parent)||void 0===n||n.appendChild(t));t&&(null===(r=this.componentDidUpdate)||void 0===r||r.call(this))},this._handleError=t=>{if(t instanceof Error)return this.componentDidCatch(t),t;const e=new Error(String(t));return this.componentDidCatch(e),e},null===t)throw new Error("Parent is null, expected HTMLElement | undefined.");this._parent=t}get getState(){return this.state}get state(){return this._state}set state(t){this._didSetInitialState?(this.componentDidCatch(new Error(`ERROR: code 1. See ${e}.`)),this.setState(t)):(this._state=t,this._didSetInitialState=!0)}get getProps(){return this.props}set parent(t){this._parent=t}get parent(){return this._parent}get didMount(){return this._didMount}get prevState(){return this._prevState}}const p=(t,...e)=>{const n=document.createDocumentFragment();return r(n,e),n};!function(t){t.Component=u,t.createRef=s,t.createElement=i,t.createElementNS=o,t.fragment=p}(t.DeStagnate||(t.DeStagnate={}));var f=t.DeStagnate;return t.Component=u,t.createElement=i,t.createElementNS=o,t.createRef=s,t.default=f,t.fragment=p,Object.defineProperty(t,"__esModule",{value:!0}),t}({});
