/**
 * Destagnate v1.6.0 
 * @copyright (C) 2020 Luke Zhang https://luke-zhang-04.github.io 
 * @license MIT
 * @file DeStagnate production bundle
 */

"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value"in descriptor){descriptor.writable=!0}Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps){_defineProperties(Constructor.prototype,protoProps)}if(staticProps){_defineProperties(Constructor,staticProps)}return Constructor}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});if(superClass){_setPrototypeOf(subClass,superClass)}}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct){return!1}if(Reflect.construct.sham){return!1}if(typeof Proxy==="function"){return!0}try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return!0}catch(e){return!1}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(iter)){return Array.from(iter)}}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){return _arrayLikeToArray(arr)}}function _createForOfIteratorHelper(o,allowArrayLike){var it;if(typeof Symbol==="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it){o=it}var i=0,F=function(){};return{s:F,n:function n(){if(i>=o.length){return{done:!0}}return{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var normalCompletion=!0,didErr=!1,err;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();normalCompletion=step.done;return step},e:function e(_e3){didErr=!0;err=_e3},f:function f(){try{if(!normalCompletion&&it["return"]!=null){it["return"]()}}finally{if(didErr){throw err}}}}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(!o){return}if(typeof o==="string"){return _arrayLikeToArray(o,minLen)}var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor){n=o.constructor.name}if(n==="Map"||n==="Set"){return Array.from(o)}if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)){return _arrayLikeToArray(o,minLen)}}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length){len=arr.length}for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function _iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr))){return}var _arr=[],_n=!0,_d=!1,_e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=!0){_arr.push(_s.value);if(i&&_arr.length===i){break}}}catch(err){_d=!0;_e=err}finally{try{if(!_n&&_i["return"]!=null){_i["return"]()}}finally{if(_d){throw _e}}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr)){return arr}}function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function(obj){return typeof obj}}else{_typeof=function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}module.exports=function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=!0;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:!0,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:!0})};__webpack_require__.t=function(value,mode){if(mode&1){value=__webpack_require__(value)}if(mode&8){return value}if(mode&4&&_typeof(value)==="object"&&value&&value.__esModule){return value}var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:!0,value:value});if(mode&2&&typeof value!="string"){for(var key in value){__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key))}}return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module["default"]}:function(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=1)}([function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{"default":mod}};Object.defineProperty(exports,"__esModule",{value:!0});exports._bindChildren=exports._unpackChildren=exports._bindProps=void 0;var _1=__importDefault(__webpack_require__(1));exports._bindProps=function(element,props){var ns=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;if(props){for(var _i=0,_Object$entries=Object.entries(props);_i<_Object$entries.length;_i++){var _Object$entries$_i=_slicedToArray(_Object$entries[_i],2),key=_Object$entries$_i[0],val=_Object$entries$_i[1];if(typeof val==="string"||typeof val==="number"){if(key==="innerHTML"){element.innerHTML=val.toString()}else if(ns){element.setAttributeNS(null,key,val.toString())}else{element.setAttribute(key,val.toString())}}else if(key.slice(0,2)==="on"){if(typeof val==="function"){element.addEventListener(key.slice(2).toLowerCase(),val)}}else if(key==="ref"&&_typeof(val)==="object"&&"current"in val){val.current=element}else{console.warn("WARN: Invalid prop type \"".concat(_typeof(val),"\" for key \"").concat(key,"\". Skipping prop."))}}}};exports._unpackChildren=function(children){var newChildren=[];var _iterator=_createForOfIteratorHelper(children),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var child=_step.value;if(_typeof(child)==="object"&&child instanceof Array){newChildren.push.apply(newChildren,_toConsumableArray(exports._unpackChildren(child)))}else{newChildren.push(child)}}}catch(err){_iterator.e(err)}finally{_iterator.f()}return newChildren};exports._bindChildren=function(element,children){if(children!==null&&children!==undefined){if(children instanceof Array){var _iterator2=_createForOfIteratorHelper(children),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var child=_step2.value;exports._bindChildren(element,child)}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}else if(typeof children==="string"||typeof children==="number"){element.innerText=children.toString()}else if(children instanceof _1["default"]){if(!children.didMount&&element instanceof window.HTMLElement){children.mount(element);return}else if(!(element instanceof window.HTMLElement)){throw new Error("Cannot use non-HTMLElement as component parent")}if(children.parent!==element){children.parent=element}children.forceUpdate()}else{element.appendChild(children)}}};exports["default"]=function createElement(tagName,props,children){var element=document.createElement(tagName);exports._bindProps(element,props);for(var _children=children,_len=arguments.length,childrenArgs=new Array(_len>3?_len-3:0),_key=3;_key<_len;_key++){childrenArgs[_key-3]=arguments[_key]}if(children&&childrenArgs){if(children instanceof Array){_children=[].concat(_toConsumableArray(exports._unpackChildren(children)),_toConsumableArray(exports._unpackChildren(childrenArgs)))}else{_children=[children].concat(_toConsumableArray(exports._unpackChildren(childrenArgs)))}}exports._bindChildren(element,_children);return element}},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{"default":mod}};Object.defineProperty(exports,"__esModule",{value:!0});exports.Component=exports.createRef=exports.createElementNS=exports.createElement=exports.createDSComponent=void 0;var _preset_1=__importDefault(__webpack_require__(5)),createDSComponent_1=__importDefault(__webpack_require__(2)),createElement_1=__importDefault(__webpack_require__(0)),createElementNS_1=__importDefault(__webpack_require__(3)),createRef_1=__importDefault(__webpack_require__(4));var DeStagnate=function(_preset_1$default){_inherits(DeStagnate,_preset_1$default);var _super=_createSuper(DeStagnate);function DeStagnate(parent,props){var _this;var shouldSkipParentCheck=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;_classCallCheck(this,DeStagnate);_this=_super.call(this);_this.props=props;_this._strict=!0;_this._state={};_this._didSetInitialState=!1;_this._didMount=!1;_this.getSnapshotBeforeUpdate=function(prevProps,prevState){return[prevProps,prevState]};_this.useStrict=function(){_this._strict=!0};_this.disableStrict=function(){_this._strict=!1};_this.forceUpdate=function(){try{_this.componentDidUpdate();if(_this._parent===undefined){throw new Error("Parent is not defined. Set parent with the parent setter or set it during mounting.")}_this.getSnapshotBeforeUpdate(Object.assign({},_this.props),Object.assign({},_this.state));_this._update(_this._execRender())}catch(err){_this.componentDidCatch(err);return err}};_this.setState=function(obj){try{_this.componentWillUpdate();if(_this._parent===undefined){throw new Error("Parent is not defined. Set parent with the parent setter or set it during mounting.")}if(_this._strict){_this._checkKeys(obj)}_this.getSnapshotBeforeUpdate(Object.assign({},_this.props),Object.assign({},_this.state));Object.assign(_this._state,obj);var renderedContent=_this.shouldComponentUpdate()?_this._execRender():undefined;_this._update(renderedContent)}catch(err){_this.componentDidCatch(err);return err}};_this.mountComponent=function(parent){try{if(parent!==undefined){_this.parent=parent}if(_this._parent===undefined){throw new Error("Parent is not defined. Set parent with the parent setter or set it during mounting.")}var component=_this.render();_this._didSetInitialState=!0;_this.componentWillMount();if(component===null){throw new Error("Expected render method to be included in component class, no render method found, or render returned an empty array")}_this.bindEventListeners(_this._parent);_this._didMount=!0;_this.componentDidMount();if(_typeof(component)==="object"&&component instanceof Array){for(var _a=component,_f=function(element){return _this._parent.appendChild(element)},_r=[],_i2=0;_i2<_a.length;_i2++){_r.push(_f(_a[_i2],_i2,_a))}return _r}return _this._parent.appendChild(component)}catch(err){_this.componentDidCatch(err);return err}};_this.mount=_this.mountComponent;_this.unmountComponent=function(){try{if(_this._parent===undefined){_this.componentDidWarn("No parent was set. Component unmounted from nothing.");return}_this.componentWillUnmount();_this.unbindEventListeners(_this._parent);_this._removeChildren();_this._didMount=!1}catch(err){_this.componentDidCatch(err)}};_this.unmount=_this.unmountComponent;_this._removeChildren=function(){if(_this._parent===undefined){throw new Error("Parent is not defined. Set parent with the parent setter or set it during mounting.")}while(_this._parent.firstChild){if(_this._parent.lastChild){_this._parent.removeChild(_this._parent.lastChild)}}};_this._execRender=function(){_this._removeChildren();return _this.render()};_this._checkKeys=function(obj){for(var _i3=0,_Object$keys=Object.keys(obj);_i3<_Object$keys.length;_i3++){var key=_Object$keys[_i3];if(!Object.keys(_this.state).includes(key)){_this.componentDidWarn("WARN: New key (".concat(key,") should not be set with setState, which has keys ").concat(JSON.stringify(Object.keys(_this.state)),". Declare all state variables in constructor as a best practice. Did you misspell a key?"))}}};_this._update=function(renderedContent){if(_typeof(renderedContent)==="object"&&renderedContent instanceof Array){var _iterator3=_createForOfIteratorHelper(renderedContent),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var element=_step3.value;_this._parent.appendChild(element)}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}}else if(renderedContent){_this._parent.appendChild(renderedContent)}if(renderedContent){_this.componentDidUpdate()}};if(parent&&parent.childElementCount>0&&!shouldSkipParentCheck&&_this._strict){_this.componentDidCatch(new Error("ERR: Avoid using this ".concat(parent.tagName.toLowerCase()," as element parent, as all elements within this ").concat(parent.tagName.toLowerCase()," will be removed on re-render. To disable this, pass in true as a third parameter")))}_this._parent=parent;return _this}_createClass(DeStagnate,[{key:"getState",get:function get(){return this.state}},{key:"state",get:function get(){return this._state},set:function set(obj){if(this._didSetInitialState&&this._strict){this.componentDidCatch(new Error("Do not mutate state directly. Use setState instead."));this.componentDidWarn("DeStagnate protects you from mutating the entire state object. Avoid mutating state directly");this.setState(obj)}else{this._state=obj;this._didSetInitialState=!0}}},{key:"getProps",get:function get(){return this.props}},{key:"parent",set:function set(element){if(element&&element.childElementCount>0&&this._strict){this.componentDidWarn("WARN: Avoid using this ".concat(element.tagName.toLowerCase()," as element parent, as all elements within this ").concat(element.tagName.toLowerCase()," will be removed on re-render. If this was intentional, turn strict off before setting parent."))}this._parent=element},get:function get(){return this._parent}},{key:"didMount",get:function get(){return this._didMount}}]);return DeStagnate}(_preset_1["default"]);exports["default"]=DeStagnate;exports.createDSComponent=createDSComponent_1["default"];exports.createElement=createElement_1["default"];exports.createElementNS=createElementNS_1["default"];exports.createRef=createRef_1["default"];exports.Component=DeStagnate},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports["default"]=function createDSComponent(Component,props,ref){var element=document.createElement("div");element.classList.add("DeStagnate-component-parent");var _component=new Component(element,props);_component.mount();if(ref){ref.current=_component}return element}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.createElementNS=void 0;var createElement_1=__webpack_require__(0);exports.createElementNS=function(namespaceURI,tagName,props,children){var element=document.createElementNS(namespaceURI,tagName);createElement_1._bindProps(element,props,!0);for(var _children=children,_len2=arguments.length,childrenArgs=new Array(_len2>4?_len2-4:0),_key2=4;_key2<_len2;_key2++){childrenArgs[_key2-4]=arguments[_key2]}if(children&&childrenArgs){if(_typeof(children)==="object"&&children instanceof Array){_children=[].concat(_toConsumableArray(createElement_1._unpackChildren(children)),_toConsumableArray(createElement_1._unpackChildren(childrenArgs)))}else{_children=[children].concat(_toConsumableArray(createElement_1._unpackChildren(childrenArgs)))}}createElement_1._bindChildren(element,_children);return element};exports["default"]=exports.createElementNS},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports["default"]=function createRef(){return{current:null}}},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{"default":mod}};Object.defineProperty(exports,"__esModule",{value:!0});var _events_1=__importDefault(__webpack_require__(6)),createDSComponent_1=__importDefault(__webpack_require__(2)),createElement_1=__importDefault(__webpack_require__(0)),createElementNS_1=__importDefault(__webpack_require__(3)),createRef_1=__importDefault(__webpack_require__(4));var Preset=function(_events_1$default){_inherits(Preset,_events_1$default);var _super2=_createSuper(Preset);function Preset(){var _this2;_classCallCheck(this,Preset);_this2=_super2.apply(this,arguments);_this2.createDSComponent=createDSComponent_1["default"];_this2.createElement=createElement_1["default"];_this2.createElementNS=createElementNS_1["default"];_this2.createRef=createRef_1["default"];_this2.componentDidCatch=function(error){return console.error(error)};_this2.componentDidMount=function(){return undefined};_this2.componentDidUpdate=function(){return undefined};_this2.componentDidWarn=function(msg){return console.warn(msg)};_this2.componentWillMount=function(){return undefined};_this2.componentWillUnmount=function(){return undefined};_this2.componentWillUpdate=function(){return undefined};_this2.shouldComponentUpdate=function(){return!0};_this2.render=function(){return null};return _this2}return Preset}(_events_1["default"]);exports["default"]=Preset;Preset.createDSComponent=createDSComponent_1["default"];Preset.createElement=createElement_1["default"];Preset.createElementNS=createElementNS_1["default"];Preset.createRef=createRef_1["default"]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports["default"]=function Events(){var _this3=this;_classCallCheck(this,Events);this.bindEventListeners=function(element){_this3._eventListener(element.addEventListener)};this.unbindEventListeners=function(element){_this3._eventListener(element.removeEventListener)};this.onFocus=function(){return undefined};this.onBlur=function(){return undefined};this.onFocusIn=function(){return undefined};this.onFocusOut=function(){return undefined};this.onAnimationStart=function(){return undefined};this.onAnimationCancel=function(){return undefined};this.onAnimationEnd=function(){return undefined};this.onAnimationIteration=function(){return undefined};this.onTransitionStart=function(){return undefined};this.onTransitionCancel=function(){return undefined};this.onTransitionEnd=function(){return undefined};this.onTransitionRun=function(){return undefined};this.onAuxClick=function(){return undefined};this.onClick=function(){return undefined};this.onDblClick=function(){return undefined};this.onMouseDown=function(){return undefined};this.onMouseEnter=function(){return undefined};this.onMouseLeave=function(){return undefined};this.onMouseMove=function(){return undefined};this.onMouseOver=function(){return undefined};this.onMouseOut=function(){return undefined};this.onMouseUp=function(){return undefined};this._eventListener=function(el){for(var _i4=0,_Object$entries2=Object.entries(_this3._events());_i4<_Object$entries2.length;_i4++){var _Object$entries2$_i=_slicedToArray(_Object$entries2[_i4],2),event=_Object$entries2$_i[0],callback=_Object$entries2$_i[1];el(event,callback)}};this._events=function(){return{focus:_this3.onFocus,blur:_this3.onBlur,focusin:_this3.onFocusIn,focusout:_this3.onFocusOut,animationstart:_this3.onAnimationStart,animationcancel:_this3.onAnimationCancel,animationend:_this3.onAnimationEnd,animationiteration:_this3.onAnimationIteration,transitionstart:_this3.onTransitionStart,transitioncancel:_this3.onTransitionCancel,transitionend:_this3.onTransitionEnd,transitionrun:_this3.onTransitionRun,auxclick:_this3.onAuxClick,click:_this3.onClick,dblclick:_this3.onDblClick,mousedown:_this3.onMouseDown,mouseenter:_this3.onMouseEnter,mouseleave:_this3.onMouseLeave,mousemove:_this3.onMouseMove,mouseover:_this3.onMouseOver,mouseout:_this3.onMouseOut,mouseup:_this3.onMouseUp}}}}]);
