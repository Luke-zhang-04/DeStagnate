/**
 * Destagnate v2.0.0 | https://luke-zhang-04.github.io/DeStagnate/
 * @copyright (C) 2020 Luke Zhang https://luke-zhang-04.github.io
 * @license MIT
 */var DeStagnate=function(a){'use strict';function b(a,b,c,...d){let e=c;if(c&&d&&(c instanceof Array?e=[...g(c),...g(d)]:e=[c,...g(d)]),"string"==typeof a){const c=document.createElement(a);return f(c,b),h(c,e),c}return"function"==typeof a?a(b,e):Error("tagNameOrComponent is of invalid type.")}const c=()=>({current:null}),d=a=>{const b=[];for(const c of Object.keys(a))b.push([c,a[c]]);return b},e="https://luke-zhang-04.github.io/DeStagnate/error-codes",f=(a,b,c=!1)=>{if(b)for(const[d,f]of Object.entries(b))"string"==typeof f||"number"==typeof f?"innerHTML"===d?a.innerHTML=f.toString():c?a.setAttributeNS(null,d,f.toString()):a.setAttribute(d,f.toString()):"on"===d.slice(0,2)?"function"==typeof f&&a.addEventListener(d.slice(2).toLowerCase(),f):"ref"===d&&"object"==typeof f&&"current"in f?f.current=a:void 0!==f&&console.warn(`WARN: Code 7. See ${e}. Params: ${typeof f}, ${d}`)},g=a=>{const b=[];for(const c of a)"object"==typeof c&&c instanceof Array?b.push(...g(c)):b.push(c);return b},h=(a,b)=>{if(null!==b&&void 0!==b)if(b instanceof Array)for(const c of b)h(a,c);else if("string"==typeof b||"number"==typeof b)a.innerText=b.toString();else if(b instanceof l){if(!b.didMount&&a instanceof window.HTMLElement)return void b.mount(a);if(!(a instanceof window.HTMLElement))throw new Error(`ERROR: code 8. See ${e}`);b.parent!==a&&(b.parent=a),b.forceUpdate()}else a.appendChild(b)},i=(a,b,c,d,...e)=>{const i=document.createElementNS(a,b);f(i,c,!0);let j=d;return d&&e&&("object"==typeof d&&d instanceof Array?j=[...g(d),...g(e)]:j=[d,...g(e)]),h(i,j),i};class j{constructor(){this.createElement=b,this.createElementNS=i,this.createRef=c,this.componentDidCatch=a=>console.error(a),this.componentDidMount=()=>void 0,this.componentDidUpdate=()=>void 0,this.componentDidWarn=a=>console.warn(a),this.componentWillMount=()=>void 0,this.componentWillUnmount=()=>void 0,this.componentWillUpdate=()=>void 0,this.shouldComponentUpdate=()=>!0,this.render=()=>null}}j.createElement=b,j.createElementNS=i,j.createRef=c;class k extends j{constructor(){super(...arguments),this.onFocus=void 0,this.onBlur=void 0,this.onFocusIn=void 0,this.onFocusOut=void 0,this.onAnimationStart=void 0,this.onAnimationCancel=void 0,this.onAnimationEnd=void 0,this.onAnimationIteration=void 0,this.onTransitionStart=void 0,this.onTransitionCancel=void 0,this.onTransitionEnd=void 0,this.onTransitionRun=void 0,this.onAuxClick=void 0,this.onClick=void 0,this.onDblClick=void 0,this.onMouseDown=void 0,this.onMouseEnter=void 0,this.onMouseLeave=void 0,this.onMouseMove=void 0,this.onMouseOver=void 0,this.onMouseOut=void 0,this.onMouseUp=void 0,this.bindEventListeners=a=>{this._eventListener(a.addEventListener)},this.unbindEventListeners=a=>{this._eventListener(a.removeEventListener)},this._eventListener=a=>{for(const[b,c]of d(this._events()))void 0!==c&&a(b,c)},this._events=()=>({focus:this.onFocus,blur:this.onBlur,focusin:this.onFocusIn,focusout:this.onFocusOut,animationstart:this.onAnimationStart,animationcancel:this.onAnimationCancel,animationend:this.onAnimationEnd,animationiteration:this.onAnimationIteration,transitionstart:this.onTransitionStart,transitioncancel:this.onTransitionCancel,transitionend:this.onTransitionEnd,transitionrun:this.onTransitionRun,auxclick:this.onAuxClick,click:this.onClick,dblclick:this.onDblClick,mousedown:this.onMouseDown,mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave,mousemove:this.onMouseMove,mouseover:this.onMouseOver,mouseout:this.onMouseOut,mouseup:this.onMouseUp})}}class l extends k{constructor(a,b,c=!1){super(),this.props=b,this._strict=!0,this._state={},this._didSetInitialState=!1,this._didMount=!1,this.getSnapshotBeforeUpdate=(a,b)=>[a,b],this.useStrict=()=>{this._strict=!0},this.disableStrict=()=>{this._strict=!1},this.forceUpdate=()=>{try{if(this.componentDidUpdate(),void 0===this._parent)throw new Error(`ERROR: code 3. See ${e}.`);this.getSnapshotBeforeUpdate(Object.assign({},this.props),Object.assign({},this.state)),this._update(this._execRender())}catch(a){return this.componentDidCatch(a),a}},this.setState=a=>{try{if(this.componentWillUpdate(),void 0===this._parent)throw new Error(`ERROR: code 3. See ${e}.`);this._strict&&this._checkKeys(a),this.getSnapshotBeforeUpdate(Object.assign({},this.props),Object.assign({},this.state)),Object.assign(this._state,a);const b=this.shouldComponentUpdate()?this._execRender():void 0;this._update(b)}catch(a){return this.componentDidCatch(a),a}},this.mountComponent=a=>{try{if(void 0!==a&&(this.parent=a),void 0===this._parent)throw new Error(`ERROR: code 3. See ${e}.`);const b=this.render();if(this._didSetInitialState=!0,this.componentWillMount(),null===b)throw new Error(`ERROR: code 5. See ${e}.`);return this.bindEventListeners(this._parent),this._didMount=!0,this.componentDidMount(),"object"==typeof b&&b instanceof Array?b.map(a=>this._parent.appendChild(a)):this._parent.appendChild(b)}catch(a){return this.componentDidCatch(a),a}},this.mount=this.mountComponent,this.unmountComponent=()=>{try{if(void 0===this._parent)return void this.componentDidWarn(`WARN: code 4. See ${e}.`);this.componentWillUnmount(),this.unbindEventListeners(this._parent),this._removeChildren(),this._didMount=!1}catch(a){this.componentDidCatch(a)}},this.unmount=this.unmountComponent,this._removeChildren=()=>{if(void 0===this._parent)throw new Error(`ERROR: code 3. See ${e}.`);for(;this._parent.firstChild;)this._parent.lastChild&&this._parent.removeChild(this._parent.lastChild)},this._execRender=()=>(this._removeChildren(),this.render()),this._checkKeys=a=>{for(const b of Object.keys(a))Object.keys(this.state).includes(b)||this.componentDidWarn(`WARN: code 6. See ${e}. Params: ${b}, ${JSON.stringify(Object.keys(this.state))}.`)},this._update=a=>{if("object"==typeof a&&a instanceof Array)for(const b of a)this._parent.appendChild(b);else a&&this._parent.appendChild(a);a&&this.componentDidUpdate()},a&&0<a.childElementCount&&!c&&this._strict&&this.componentDidCatch(new Error(`ERROR: code 1. See ${e}. Params: ${a.tagName.toLowerCase()}`)),this._parent=a}get getState(){return this.state}get state(){return this._state}set state(a){this._didSetInitialState&&this._strict?(this.componentDidCatch(new Error(`ERROR: code 2. See ${e}.`)),this.componentDidWarn(`ERROR: code 2. See ${e}.`),this.setState(a)):(this._state=a,this._didSetInitialState=!0)}get getProps(){return this.props}set parent(a){a&&0<a.childElementCount&&this._strict&&this.componentDidCatch(new Error(`ERROR: code 1. See ${e}. Params: ${a.tagName.toLowerCase()}`)),this._parent=a}get parent(){return this._parent}get didMount(){return this._didMount}}return a.Component=l,a.createElement=b,a.createElementNS=i,a.createRef=c,a.default=l,Object.defineProperty(a,"__esModule",{value:!0}),a}({});