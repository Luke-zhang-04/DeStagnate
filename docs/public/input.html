<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DeStagnate Examples | Inputs</title>
    <link rel="stylesheet" href="css/styles.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.20.0/themes/prism-tomorrow.min.css"
    />
    <link rel="icon" href="favicon.ico" />
  </head>
  <body>
    <div id="nav"></div>
    <script async src="js/nav.js"></script>

    <div class="container">
      <div class="row" id="inputs-h">
        <h1 class="mt-3">Input Example</h1>
        <p>
          This example uses
          <a href="https://www.npmjs.com/package/htm" target="_blank" rel="noopener noreferrer"
            >HTM</a
          >
          with DeStagnate to create DOM.
        </p>
        <a
          href="https://github.com/Luke-zhang-04/DeStagnate/blob/master/docs/src/examples/input.js"
          target="_blank"
          rel="noopener noreferrer"
          >Source Code</a
        >
        <div class="pt-5">
          <div id="input"></div>
        </div>
        <div id="input-source">
          <pre class="d-block">
            <code class="language-js">
import {createElement, StateContainer} from &quot;destagnate&quot;
import htm from &quot;htm&quot;

const html = htm.bind(createElement)

class InputState extends StateContainer {
    constructor(value = {disabled: true}) {
        super(value)
    }

    updateDOM(ref) {
        ref.current.disabled = this.value.disabled
        ref.current.placeholder = this.value.disabled ? &quot;Disabled&quot; : &quot;My Input&quot;
    }
}

const inputState = new InputState()

class DisplayState extends StateContainer {
    constructor(value = &quot;&quot;) {
        super(value)
    }

    updateDOM(ref) {
        ref.current.innerText = this.value
    }
}

const displayState = new DisplayState()

document.getElementById(&quot;input&quot;)?.appendChild(
    html`&lt;div&gt;
        &lt;div class=&quot;form-group&quot;&gt;
            &lt;input
                disabled
                type=&quot;text&quot;
                ref=${inputState.ref}
                placeholder=&quot;Disabled&quot;
                onInput=${(event) =&gt; displayState.update(event.target.value)}
                class=&quot;w-100 form-control&quot;
            /&gt;
        &lt;/div&gt;
        &lt;button
            class=&quot;btn btn-primary&quot;
            onClick=${() =&gt; inputState.update({disabled: !inputState.value.disabled})}
        &gt;
            Toggle input
        &lt;/button&gt;
        &lt;div class=&quot;w-100 p-2 bg-tertiary&quot;&gt;
            Value:
            &lt;div ref=${displayState.ref} /&gt;
        &lt;/div&gt;
    &lt;/div&gt;`,
)
            </code>
          </pre>
        </div>
      </div>
    </div>

    <footer></footer>
    <script async src="js/footer.js"></script>

    <!-- Popper.js for bootstrap, not actually needed for functionality -->
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
      integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
      crossorigin="anonymous"
    ></script>

    <!-- Bootstrap for styling, not actually needed for functionality -->
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/js/bootstrap.min.js"
      integrity="sha384-oesi62hOLfzrys4LxRF63OJCXdXDipiYWBnvTl9Y9/TRlw5xlKIEHpNyvvDShgf/"
      crossorigin="anonymous"
    ></script>

    <!-- Prism JS for syntax hilighting code -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.20.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.20.0/plugins/autoloader/prism-autoloader.min.js"></script>

    <!-- Source Code of Examples -->

    <script src="js/input.js"></script>
  </body>
</html>
