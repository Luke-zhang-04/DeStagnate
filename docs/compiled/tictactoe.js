!function(){"use strict";
/**
   * DeStagnate | https://luke-zhang-04.github.io/DeStagnate/
   * A simple, ReactJS inspired library to create dynamic components within static sites easier
   * @copyright Copyright (C) 2020 - 2021 Luke Zhang
   * @author Luke Zhang luke-zhang-04.github.io
   * @license MIT
   * @version 2.1.0
   */const t=["onFocus","onBlur","onFocusIn","onFocusOut","onAnimationStart","onAnimationCancel","onAnimationEnd","onAnimationIteration","onTransitionStart","onTransitionCancel","onTransitionEnd","onTransitionRun","onAuxClick","onClick","onDblClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOver","onMouseOut","onMouseUp","onWheel"],e=["onLoad","onOnline","onOffline","onResize","onScroll","onKeyDown","onKeyPress","onKeyUp"],n="https://luke-zhang-04.github.io/DeStagnate/error-codes",i=(t,e,n=!1)=>{if(e)for(const[i,r]of Object.entries(e))"string"==typeof r||"number"==typeof r?"innerHTML"===i?t.innerHTML=r.toString():n?t.setAttributeNS(null,i,r.toString()):t.setAttribute(i,r.toString()):"on"===i.slice(0,2)?"function"==typeof r&&t.addEventListener(i.slice(2).toLowerCase(),r):"ref"===i&&"object"==typeof r&&"current"in r?r.current=t:void 0!==r&&console.warn(typeof r+" is not a valid DeStagnate child")},r=(t,e)=>{if(null!=e)if(e instanceof Array)e.forEach((e=>r(t,e)));else if("string"==typeof e||"number"==typeof e)t.appendChild(document.createTextNode(e.toString()));else if(e instanceof l){if(!e.didMount&&t instanceof window.HTMLElement)return void e.mount(t);if(!(t instanceof window.HTMLElement))throw new Error(`ERROR: code 3. See ${n}`);e.parent!==t&&(e.parent=t),e.forceUpdate()}else t.appendChild(e)};function o(t,e,...n){if("string"==typeof t){const o=document.createElement(t);return i(o,e),r(o,n),o}return"function"==typeof t?t(e,n):Error("tagNameOrComponent is of invalid type.")}const s=(t,e,n,...o)=>{const s=document.createElementNS(t,e);return i(s,n,!0),r(s,o),s},a=()=>({current:null}),c=(t,e,n=3,i=10)=>{if(0===n)return t===e;if(typeof t!=typeof e)return!1;if(t instanceof Array&&e instanceof Array){if(t.length!==e.length)return!1;if(t.length>i||e.length>i)return t===e;for(let r=0;r<t.length;r++)if(!c(t[r],e[r],n-1,i))return!1;return!0}if(t instanceof Object&&e instanceof Object){if(!c(Object.keys(t),Object.keys(e),n-1,i))return!1;for(const r of Object.keys(t))if(!c(t[r],e[r],n-1,i))return!1;return!0}return t===e};var h={isEqual:c};const d="Refusing to update unmounted component";class l{constructor(t,e){if(this.props=e,this.createElement=o,this.createElementNS=s,this.createRef=a,this._state={},this._didSetInitialState=!1,this._didMount=!1,this.mount=this.mountComponent,this.unmount=this.unmountComponent,null===t)throw new Error("Parent is null, expected HTMLElement | undefined.");this._parent=t}get getState(){return this.state}get state(){return this._state}set state(t){this._didSetInitialState?(this.componentDidCatch(new Error(`ERROR: code 1. See ${n}.`)),this.setState(t)):(this._state=t,this._didSetInitialState=!0)}get getProps(){return this.props}set parent(t){this._parent=t}get parent(){return this._parent}get didMount(){return this._didMount}get prevState(){return this._prevState}forceUpdate(){var t,e;try{if(!this._didMount)throw new Error(d);if(null===(t=this.componentDidUpdate)||void 0===t||t.call(this),void 0===this._parent)throw new Error(`ERROR: code 2. See ${n}.`);null===(e=this.getSnapshotBeforeUpdate)||void 0===e||e.call(this,Object.assign({},this.props),Object.assign({},this.state)),this._update(this._execRender())}catch(t){return this._handleError(t)}}stateDidChange(t,e=3,n=15){var i;if(void 0===t)return!h.isEqual(this._state,this._prevState,e,n);const r={},o={};for(const e of t)r[e]=this._state[e],o[e]=null===(i=this._prevState)||void 0===i?void 0:i[e];return!h.isEqual(r,o,e,n)}setState(t,e=!0){var i,r;try{if(!this._didMount)throw new Error(d);if(null===(i=this.componentWillUpdate)||void 0===i||i.call(this),void 0===this._parent)throw new Error(`ERROR: code 2. See ${n}.`);this._prevState=Object.assign({},this._state),null===(r=this.getSnapshotBeforeUpdate)||void 0===r||r.call(this,Object.assign({},this.props),Object.assign({},this.state)),Object.assign(this._state,t);const o=e&&this.shouldComponentUpdate()?this._execRender():void 0;this._update(o)}catch(t){return this._handleError(t)}}mountComponent(t){var e,i;try{if(void 0!==t&&(this.parent=t),void 0===this._parent)throw new Error(`ERROR: code 2. See ${n}.`);const r=this.render();if(this._didSetInitialState=!0,null===(e=this.componentWillMount)||void 0===e||e.call(this),null===r)throw new Error(`ERROR: code 3. See ${n}.`);if(this._bindEventListeners(this._parent),this._didMount=!0,null===(i=this.componentDidMount)||void 0===i||i.call(this),r instanceof Array){const t=document.createDocumentFragment();return r.forEach((e=>t.appendChild(e))),this._parent.appendChild(t)}return this._parent.appendChild(r)}catch(t){return this._handleError(t)}}unmountComponent(){var t;try{if(void 0===this._parent)return;null===(t=this.componentWillUnmount)||void 0===t||t.call(this),this._unbindEventListeners(this._parent),this._removeChildren(),this._didMount=!1}catch(t){this._handleError(t)}}componentDidCatch(t){console.error(t)}shouldComponentUpdate(){return!0}_removeChildren(){if(void 0===this._parent)throw new Error(`ERROR: code 2. See ${n}.`);for(;this._parent.firstChild;)this._parent.lastChild&&this._parent.removeChild(this._parent.lastChild)}_execRender(){return this._removeChildren(),this.render()}_update(t){var e,n,i;if(t instanceof Array)for(const n of t)null===(e=this._parent)||void 0===e||e.appendChild(n);else t&&(null===(n=this._parent)||void 0===n||n.appendChild(t));t&&(null===(i=this.componentDidUpdate)||void 0===i||i.call(this))}_handleError(t){if(t instanceof Error)return this.componentDidCatch(t),t;const e=new Error(String(t));return this.componentDidCatch(e),e}_bindEventListeners(t){this._eventListener(t.addEventListener),this._eventListener(window.addEventListener,e)}_unbindEventListeners(t){this._eventListener(t.removeEventListener),this._eventListener(window.removeEventListener,e)}_eventListener(e,n=t){for(const t of n){const n=t.slice(2).toLowerCase(),i=this[t];void 0!==i&&i instanceof Function&&e(n,i)}}}l.createElement=o,l.createElementNS=s,l.createRef=a;var u=Object.freeze({__proto__:null,Component:l,createRef:a,createElement:o,createElementNS:s,Fragment:(t,...e)=>{const n=document.createDocumentFragment();return r(n,e),n}});let p="x";class f extends u.Component{constructor(){super(...arguments),this._squares=[[new _,new _,new _],[new _,new _,new _],[new _,new _,new _]],this._checkForWinner=()=>{for(let t=0;t<3;t++){const e=[0,1,2].map((e=>this._squares[t][e].getState.clicked)),n=[0,1,2].map((e=>this._squares[e][t].getState.clicked));if(e[0]===e[1]&&e[1]===e[2]&&e[0])return e[0];if(n[0]===n[1]&&n[1]===n[2]&&n[0])return n[0]}const t=[[this._squares[0][0].getState.clicked,this._squares[1][1].getState.clicked,this._squares[2][2].getState.clicked],[this._squares[0][2].getState.clicked,this._squares[1][1].getState.clicked,this._squares[2][0].getState.clicked]];for(const e of t)if(e[0]===e[1]&&e[1]===e[2]&&e[0])return e[0];return""},this.render=()=>[0,1,2].map((t=>o("div",{class:"row"},[0,1,2].map((e=>o("div",{class:"col-4",onClick:()=>{const n=this._squares[t][e];""===(null==n?void 0:n.getState.clicked)&&(null==n||n.setState({clicked:p})),p="x"===p?"o":"x",this._checkForWinner()&&alert(`Player ${this._checkForWinner()} has won the game!`)}},this._squares[t][e]))))))}}class _ extends u.Component{constructor(){super(),this.render=()=>o("div",{class:"tictactoe-square"},this.state.clicked),this.state={clicked:""}}}const m=document.getElementById("nested"),v=()=>{if(m){const t=new f(m),e=document.getElementById("nested-reset-btn");e&&e.addEventListener("click",(()=>{t.unmount(),v()})),t.mount()}};v()}();
