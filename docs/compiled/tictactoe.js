!function(){"use strict";
/**
   * DeStagnate: A lightweight wrapper around vanilla DOM methods
   *
   * @license MIT
   * @version 3.0.0
   * @copyright 2020 - 2024 Luke Zhang
   */const e=e=>"boolean"==typeof e||"number"==typeof e||"bigint"==typeof e||"string"==typeof e,t=(e,t)=>{if(Array.isArray(t))for(const n of t)n.current=e;else t.current=e},n=(t,r)=>{if(null!=r&&!1!==r)if(Array.isArray(r))for(const e of r)n(t,e);else e(r)?t.appendChild(document.createTextNode(r.toString())):r instanceof Node?t.appendChild(r):console.warn(`Invalid child type ${typeof r}: ${r}`)},r=Object.freeze({xml:"http://www.w3.org/XML/1998/namespace",mathML:"http://www.w3.org/1998/Math/MathML",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/"});function o(o,l){for(var a=arguments.length,u=new Array(a>2?a-2:0),i=2;i<a;i++)u[i-2]=arguments[i];if("string"==typeof o){const[a,i]=o.split(":"),s=void 0!==a,c=s&&a in r?document.createElementNS(r[a],i):document.createElement(o);return function(n,r){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(r)for(const[l,a]of Object.entries(r))e(a)?o?n.setAttributeNS(null,l,a.toString()):n.setAttribute(l,a.toString()):l.startsWith("on")&&"function"==typeof a?n.addEventListener(l.slice(2).toLowerCase(),a):"ref"===l&&"object"==typeof a&&("current"in a||Array.isArray(a))?t(n,a):null===a?o?n.removeAttributeNS(null,l):n.removeAttribute(l):void 0!==a&&console.warn(`Invalid prop type ${typeof a} at ${l}: ${a}`)}(c,l,s),n(c,u),c}if("function"==typeof o)return o(l,u);throw new Error(`Invalid element type ${typeof o}: ${o}`)}class l{ref;#e;constructor(e,t){this.#e=e,this.ref=t??function(){return{current:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null}}()}get value(){return this.#e}set value(e){this.update(e)}update(e){this.#e=e,null!==this.ref.current&&this.updateDOM(this.ref)}}let a="x";class u extends l{constructor(){super("")}updateDOM(e){e.current.innerText=this.value}}const i=[[new u,new u,new u],[new u,new u,new u],[new u,new u,new u]],s=()=>{for(let e=0;e<3;e++){const t=[0,1,2].map((t=>i[e][t].value)),n=[0,1,2].map((t=>i[t][e].value));if(t[0]===t[1]&&t[1]===t[2]&&t[0])return t[0];if(n[0]===n[1]&&n[1]===n[2]&&n[0])return n[0]}const e=[[i[0][0].value,i[1][1].value,i[2][2].value],[i[0][2].value,i[1][1].value,i[2][0].value]];for(const t of e)if(t[0]===t[1]&&t[1]===t[2]&&t[0])return t[0];return""},c=document.getElementById("nested"),f=document.getElementById("nested-reset-btn");null==c||c.appendChild(o((function(e){const r=document.createDocumentFragment();e?.ref&&t(r,e.ref);for(var o=arguments.length,l=new Array(o>1?o-1:0),a=1;a<o;a++)l[a-1]=arguments[a];return n(r,l),r}),null,i.map((e=>o("div",{class:"row"},e.map((e=>o("div",{class:"col-4",onClick:()=>{""===e.value&&(e.value=a),a="x"===a?"o":"x",s()&&alert(`Player ${s()} has won the game!`)}},o("div",{class:"tictactoe-square",ref:e.ref},e.value))))))))),null==f||f.addEventListener("click",(()=>{for(const e of i)for(const t of e)t.update("")}))}();
