!function(){"use strict";
/**
   * DeStagnate | https://luke-zhang-04.github.io/DeStagnate/
   * A simple, ReactJS inspired library to create dynamic components within static sites easier
   * @copyright Copyright (C) 2020 Luke Zhang
   * @author Luke Zhang luke-zhang-04.github.io
   * @license MIT
   * @version 2.0.0
   */const t="https://luke-zhang-04.github.io/DeStagnate/error-codes",e=(e,n,i=!1)=>{if(n)for(const[s,r]of Object.entries(n))"string"==typeof r||"number"==typeof r?"innerHTML"===s?e.innerHTML=r.toString():i?e.setAttributeNS(null,s,r.toString()):e.setAttribute(s,r.toString()):"on"===s.slice(0,2)?"function"==typeof r&&e.addEventListener(s.slice(2).toLowerCase(),r):"ref"===s&&"object"==typeof r&&"current"in r?r.current=e:void 0!==r&&console.warn(`WARN: Code 7. See ${t}. Params: ${typeof r}, ${s}`)},n=(e,i)=>{if(null!=i)if(i instanceof Array)i.forEach((t=>n(e,t)));else if("string"==typeof i||"number"==typeof i)e.appendChild(document.createTextNode(i.toString()));else if(i instanceof h){if(!i.didMount&&e instanceof window.HTMLElement)return void i.mount(e);if(!(e instanceof window.HTMLElement))throw new Error(`ERROR: code 4. See ${t}`);i.parent!==e&&(i.parent=e),i.forceUpdate()}else e.appendChild(i)};function i(t,i,...s){if("string"==typeof t){const r=document.createElement(t);return e(r,i),n(r,s),r}return"function"==typeof t?t(i,s):Error("tagNameOrComponent is of invalid type.")}const s=(t,i,s,...r)=>{const o=document.createElementNS(t,i);return e(o,s,!0),n(o,r),o},r=()=>({current:null});class o{constructor(){this.createElement=i,this.createElementNS=s,this.createRef=r,this.componentDidCatch=t=>console.error(t),this.componentDidWarn=t=>console.warn(t),this.shouldComponentUpdate=()=>!0,this.render=()=>null}}o.createElement=i,o.createElementNS=s,o.createRef=r;const a=["onFocus","onBlur","onFocusIn","onFocusOut","onAnimationStart","onAnimationCancel","onAnimationEnd","onAnimationIteration","onTransitionStart","onTransitionCancel","onTransitionEnd","onTransitionRun","onAuxClick","onClick","onDblClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOver","onMouseOut","onMouseUp"];class c extends o{constructor(){super(...arguments),this.bindEventListeners=t=>{this._eventListener(t.addEventListener)},this.unbindEventListeners=t=>{this._eventListener(t.removeEventListener)},this._eventListener=t=>{for(const e of a){const n=e.slice(2).toLowerCase(),i=this[e];void 0!==i&&i instanceof Function&&t(n,i)}}}}class h extends c{constructor(e,n){super(),this.props=n,this._state={},this._didSetInitialState=!1,this._didMount=!1,this.getSnapshotBeforeUpdate=(t,e)=>[t,e],this.forceUpdate=()=>{var e;try{if(null===(e=this.componentDidUpdate)||void 0===e||e.call(this),void 0===this._parent)throw new Error(`ERROR: code 2. See ${t}.`);this.getSnapshotBeforeUpdate(Object.assign({},this.props),Object.assign({},this.state)),this._update(this._execRender())}catch(t){return this._handleError(t)}},this.setState=e=>{var n;try{if(null===(n=this.componentWillUpdate)||void 0===n||n.call(this),void 0===this._parent)throw new Error(`ERROR: code 2. See ${t}.`);this.getSnapshotBeforeUpdate(Object.assign({},this.props),Object.assign({},this.state)),Object.assign(this._state,e);const i=this.shouldComponentUpdate()?this._execRender():void 0;this._update(i)}catch(t){return this._handleError(t)}},this.mountComponent=e=>{var n,i;try{if(void 0!==e&&(this.parent=e),void 0===this._parent)throw new Error(`ERROR: code 2. See ${t}.`);const s=this.render();if(this._didSetInitialState=!0,null===(n=this.componentWillMount)||void 0===n||n.call(this),null===s)throw new Error(`ERROR: code 3. See ${t}.`);if(this.bindEventListeners(this._parent),this._didMount=!0,null===(i=this.componentDidMount)||void 0===i||i.call(this),s instanceof Array){const t=document.createDocumentFragment();return s.forEach((e=>t.appendChild(e))),this._parent.appendChild(t)}return this._parent.appendChild(s)}catch(t){return this._handleError(t)}},this.mount=this.mountComponent,this.unmountComponent=()=>{var e;try{if(void 0===this._parent)return this.componentDidWarn(`WARN: code 4. See ${t}.`);null===(e=this.componentWillUnmount)||void 0===e||e.call(this),this.unbindEventListeners(this._parent),this._removeChildren(),this._didMount=!1}catch(t){this._handleError(t)}},this.unmount=this.unmountComponent,this._removeChildren=()=>{if(void 0===this._parent)throw new Error(`ERROR: code 2. See ${t}.`);for(;this._parent.firstChild;)this._parent.lastChild&&this._parent.removeChild(this._parent.lastChild)},this._execRender=()=>(this._removeChildren(),this.render()),this._update=t=>{var e,n,i;if(t instanceof Array)for(const n of t)null===(e=this._parent)||void 0===e||e.appendChild(n);else t&&(null===(n=this._parent)||void 0===n||n.appendChild(t));t&&(null===(i=this.componentDidUpdate)||void 0===i||i.call(this))},this._handleError=t=>{if(t instanceof Error)return this.componentDidCatch(t),t;const e=new Error(String(t));return this.componentDidCatch(e),e},this._parent=e}get getState(){return this.state}get state(){return this._state}set state(e){this._didSetInitialState?(this.componentDidCatch(new Error(`ERROR: code 1. See ${t}.`)),this.setState(e)):(this._state=e,this._didSetInitialState=!0)}get getProps(){return this.props}set parent(t){this._parent=t}get parent(){return this._parent}get didMount(){return this._didMount}}const d=(t,...e)=>{const i=document.createDocumentFragment();return n(i,e),i};var l;!function(t){t.Component=h,t.createRef=r,t.createElement=i,t.createElementNS=s,t.fragment=d}(l||(l={}));var u=l;let p="x";class m extends u.Component{constructor(){super(...arguments),this._squares=[[new f,new f,new f],[new f,new f,new f],[new f,new f,new f]],this._checkForWinner=()=>{for(let t=0;t<3;t++){const e=[0,1,2].map((e=>this._squares[t][e].getState.clicked)),n=[0,1,2].map((e=>this._squares[e][t].getState.clicked));if(e[0]===e[1]&&e[1]===e[2]&&e[0])return e[0];if(n[0]===n[1]&&n[1]===n[2]&&n[0])return n[0]}const t=[[this._squares[0][0].getState.clicked,this._squares[1][1].getState.clicked,this._squares[2][2].getState.clicked],[this._squares[0][2].getState.clicked,this._squares[1][1].getState.clicked,this._squares[2][0].getState.clicked]];for(const e of t)if(e[0]===e[1]&&e[1]===e[2]&&e[0])return e[0];return""},this.render=()=>[0,1,2].map((t=>i("div",{class:"row"},[0,1,2].map((e=>i("div",{class:"col-4",onClick:()=>{const n=this._squares[t][e];""===(null==n?void 0:n.getState.clicked)&&(null==n||n.setState({clicked:p})),p="x"===p?"o":"x",this._checkForWinner()&&alert(`Player ${this._checkForWinner()} has won the game!`)}},this._squares[t][e]))))))}}class f extends u.Component{constructor(){super(),this.render=()=>i("div",{class:"tictactoe-square"},this.state.clicked),this.state={clicked:""}}}const _=document.getElementById("nested"),v=()=>{if(_){const t=new m(_),e=document.getElementById("nested-reset-btn");e&&e.addEventListener("click",(()=>{t.unmount(),v()})),t.mount()}};v()}();
