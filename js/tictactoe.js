!function(){"use strict";
/**
   * DeStagnate: A lightweight wrapper around vanilla DOM methods
   *
   * @license MIT
   * @version 3.2.0
   * @copyright 2020 - 2024 Luke Zhang
   */const e=e=>"boolean"==typeof e||"number"==typeof e||"bigint"==typeof e||"string"==typeof e,t=(e,t)=>{if(Array.isArray(t))for(const n of t)n.current=e;else t.current=e};function*n(e){for(const t in e)e.hasOwnProperty(t)&&(yield[t,e[t]])}const r=(t,n)=>{if(null!=n&&!1!==n)if(Array.isArray(n))for(const e of n)r(t,e);else e(n)?t.appendChild(document.createTextNode(n.toString())):n instanceof Node?t.appendChild(n):console.warn(`Invalid child type ${typeof n}: ${n}`)},o=Object.freeze({xml:"http://www.w3.org/XML/1998/namespace",mathML:"http://www.w3.org/1998/Math/MathML",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/"});function l(l,s,...i){if("string"==typeof l){const[a,u]=l.split(":"),c=void 0!==a,f=c&&a in o?document.createElementNS(o[a],u):document.createElement(l);return((r,o,l=!1)=>{if(o)for(const[s,i]of n(o))if("boolean"==typeof i)r.toggleAttribute(s,i);else if(e(i))l?r.setAttributeNS(null,s,i.toString()):r.setAttribute(s,i.toString());else if(s.startsWith("on")&&"function"==typeof i)r.addEventListener(s.slice(2).toLowerCase(),i);else if("ref"===s&&"object"==typeof i&&("current"in i||Array.isArray(i)))t(r,i);else if("style"===s&&"object"==typeof i&&r instanceof HTMLElement)for(const[e,t]of n(i))void 0!==t&&(r.style[e]=t??"");else null===i?l?r.removeAttributeNS(null,s):r.removeAttribute(s):void 0!==i&&console.warn(`Invalid prop at ${s}: ${i} for ${r}`)})(f,s,c),r(f,i),f}if("function"==typeof l)return l(s??{},i);throw new Error(`Invalid element type ${typeof l}: ${l}`)}class s{ref;#e;constructor(e,t){this.#e=e,this.ref=t??((e=null)=>({current:e}))()}get value(){return this.#e}set value(e){this.update(e)}update(e){this.#e=e,null!==this.ref.current&&this.updateDOM(this.ref)}}let i="x";class a extends s{constructor(){super("")}updateDOM(e){e.current.innerText=this.value}}const u=[[new a,new a,new a],[new a,new a,new a],[new a,new a,new a]],c=()=>{for(let e=0;e<3;e++){const t=[0,1,2].map((t=>u[e][t].value)),n=[0,1,2].map((t=>u[t][e].value));if(t[0]===t[1]&&t[1]===t[2]&&t[0])return t[0];if(n[0]===n[1]&&n[1]===n[2]&&n[0])return n[0]}const e=[[u[0][0].value,u[1][1].value,u[2][2].value],[u[0][2].value,u[1][1].value,u[2][0].value]];for(const t of e)if(t[0]===t[1]&&t[1]===t[2]&&t[0])return t[0];return""},f=document.getElementById("nested"),p=document.getElementById("nested-reset-btn");null==f||f.appendChild(l((({ref:e},...n)=>{const o=document.createDocumentFragment();return e&&t(o,e),r(o,n),o}),null,u.map((e=>l("div",{class:"row"},e.map((e=>l("div",{class:"col-4",onClick:()=>{""===e.value&&(e.value=i),i="x"===i?"o":"x",c()&&alert(`Player ${c()} has won the game!`)}},l("div",{class:"tictactoe-square",ref:e.ref},e.value))))))))),null==p||p.addEventListener("click",(()=>{for(const e of u)for(const t of e)t.update("")}))}();
